# Solution0714

## 貪心解法

好難...

第一次做時，我的想法是當遇到 當前最高點 - 當前最低點 - 手續費 > 手續費 時就可以做買賣了(因為若賣出後利潤小於等於手續費就會影響到下次買賣的利潤)。然後就重新找當前最高點 和 當前最低點。

但這樣的想法在「1,8,7,20」, fee = 2 時會是錯的
- ((8 - 1) - 2) + ((20 - 7) - 2) = 16
- ((20 - 1) - 2) = 17
不是一符合條件就可以賣，有可能後面的獲利更高。

想了很久，仍想不出去解法，因為越想越發現特列一直出現，
沒看解答的話，我都沒想到 minPrice 要這樣算
```csharp
minPrice = prices[i] - fee;
```
有點像是把上次的獲利平掉，再用當前的獲利做計算

### 複雜度

#### Time: O(n)

#### Memory: O(1)

---

## 動態規劃

跟 [Solution122](Solution0122.md) 類似，多了扣手續費

### 找出 dp 的狀態推導

dp[i][0] 的來源有以下
- 第 i-1 天持有股票的最大獲利，dp[i-1][0]
- 第 i-2 天無持有股票的最大獲利 扣掉 第 i 天買股票的成本，dp[i-2][1] - prices[i]

兩者取最大

dp[i][1] 的來源有以下
- 第 i-1 天無持有股票的最大獲利，dp[i-1][1]
- 第 i-1 天持有股票的最大獲利 加上 第 i 天賣股票的獲利 扣掉 手續費，dp[i-1][0] + prices[i] - fee

### 找出 dp 初始值

dp[0][0] = -prices[0]，第一天前面不會再有前一天了，只有買入股票此一情況

dp[0][1] = 0，第一天沒股票可賣

### 複雜度

#### Time: O(n)

#### Memory: O(n)